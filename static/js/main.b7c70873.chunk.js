(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"d",function(){return o}),a.d(t,"b",function(){return s}),a.d(t,"c",function(){return i}),a.d(t,"h",function(){return u}),a.d(t,"i",function(){return l}),a.d(t,"g",function(){return c}),a.d(t,"f",function(){return d}),a.d(t,"j",function(){return m}),a.d(t,"e",function(){return f}),a.d(t,"p",function(){return p}),a.d(t,"n",function(){return h}),a.d(t,"m",function(){return E}),a.d(t,"o",function(){return g}),a.d(t,"q",function(){return v}),a.d(t,"k",function(){return _}),a.d(t,"l",function(){return b});var n=a(3),r=function(){return{type:"INITIALIZATION-SUCCESS"}},o=function(e,t){return{type:"SET-AUTH-USER",data:Object(n.a)({},e,{id:t.data.id,follows:t.data.follows})}},s=function(){return{type:"DELETE-AUTH-INFO"}},i=function(e){return{type:"SET-AUTH-USER",data:e}},u=function(e){return{type:"SET-PROFILE-PAGE",data:e}},l=function(e){return{type:"SET-PROFILE-POSTS",data:e}},c=function(e){return{type:"SET-NEW-POST-VALUE",data:e}},d=function(e){return{type:"DELETE-POST",data:e}},m=function(e,t){return{type:"UPDATE-POST-LIKE-VAL",data:t,id:e.id}},f=function(e,t){return{type:"ADD-POST",data:{text:e.post,likes:0,dislikes:0,users:{like:[],dislike:[]},postId:t.data.postId}}},p=function(e){return{type:"SWITCH-LOADING",Loading:e}},h=function(e){return{type:"SET-USERS",users:e}},E=function(e){return{type:"SET-TOTAL-COUNT",totalCount:e}},g=function(e,t){return{type:"SWITCH-FOLLOW-LOADING",FollowLoading:{status:e,id:t}}},v=function(e){return{type:"UNFOLLOW",userId:e}},_=function(e){return{type:"FOLLOW",userId:e}},b=function(e){return{type:"SET-FOLLOWS",data:e}}},101:function(e,t,a){e.exports={UsersPage:"Users_UsersPage__3-_ac",Users:"Users_Users__37NNK",Loading:"Users_Loading__1obh_"}},102:function(e,t,a){"use strict";var n=a(6),r=a.n(n),o=a(11),s=a(31),i=a(3),u=a(19),l=function(e,t,a,n){return e.map(function(e){return e[t]==a?Object(i.a)({},e,n):e})},c=a(10);a.d(t,"a",function(){return m}),a.d(t,"c",function(){return f}),a.d(t,"b",function(){return p});var d={users:[],pageSize:1,totalCount:10,currentPage:1,Loading:!1,FollowLoading:{status:!1,id:null}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(i.a)({},e,{users:l(e.users,"id",t.userId,{followed:"Follow"})});case"UNFOLLOW":return Object(i.a)({},e,{users:l(e.users,"id",t.userId,{followed:"UnFollow"})});case"SET-USERS":return Object(i.a)({},e,{users:Object(s.a)(t.users)});case"SET-TOTAL-COUNT":return Object(i.a)({},e,{totalCount:t.totalCount});case"SET-CURRENT-PAGE":return Object(i.a)({},e,{currentPage:t.currentPage});case"SWITCH-LOADING":return Object(i.a)({},e,{isLoading:t.Loading});case"SWITCH-FOLLOW-LOADING":return Object(i.a)({},e,{FollowLoading:t.FollowLoading})}return e},f=function(e,t,a,n){return function(){var s=Object(o.a)(r.a.mark(function o(s){var i,l,d,m,f,p;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s(Object(c.p)(!0)),r.next=3,(new u.a).reqUsers(e,t);case 3:for(i=r.sent,l=i.data,d=l.obj.length,m=0;m<d;)null===l.obj[m]&&(l.obj.splice(m,1),m=-1),m++;if(n)for(m=0;m<l.obj.length;m++){for(f=!1,p=0;p<a.length;p++)l.obj[m].id==a[p]&&(l.obj[m].followed="UnFollow",f=!0);f||(l.obj[m].followed="Follow")}s(Object(c.n)(l.obj)),s(Object(c.m)(l.totalCount)),s(Object(c.p)(!1));case 11:case"end":return r.stop()}},o)}));return function(e){return s.apply(this,arguments)}}()},p=function(e,t,a){return function(){var n=Object(o.a)(r.a.mark(function n(o){var s;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o(Object(c.o)(!0,a)),o("Follow"==e?Object(c.q)(a):Object(c.k)(a)),n.next=4,(new u.a).changeFollow(t,a,e);case 4:s=n.sent,o(Object(c.o)(!1,a)),document.cookie="follows="+s.data.follows+"; path=/;",o(Object(c.l)(s.data.follows));case 8:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()}},14:function(e,t,a){e.exports={menu:"Menu_menu__ZjzSy",menu_item:"Menu_menu_item__2ljn_",active:"Menu_active__Vu0kv"}},145:function(e,t,a){"use strict";var n=a(45),r=a(46),o=a(150),s=a(146),i=a(151),u=a(0),l=a.n(u),c=a(28);t.a=function(e){return function(t){function a(){return Object(n.a)(this,a),Object(o.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(i.a)(a,t),Object(r.a)(a,[{key:"render",value:function(){return this.props.isAuth?l.a.createElement(e,this.props):l.a.createElement(c.a,{to:"/loginError"})}}]),a}(l.a.Component)}},156:function(e,t,a){e.exports={Footer:"Footer_Footer__3wVzh"}},157:function(e,t,a){},158:function(e,t,a){e.exports={Profile:"Profile_Profile__1bKWn"}},185:function(e,t,a){e.exports=a(335)},186:function(e,t,a){},19:function(e,t,a){"use strict";var n=a(45),r=a(46),o=a(24),s=a.n(o),i=a(50),u=a.n(i),l=(a(105),function(){function e(){Object(n.a)(this,e),this.baseUrl="http://localhost:4000"}return Object(r.a)(e,[{key:"reqUsers",value:function(e,t){return s.a.get(this.baseUrl+"?type=users&currentPage="+e+"&pageSize="+t)}},{key:"auth",value:function(e){return s.a.get(this.baseUrl+"?type=auth&name="+e.name+"&mail="+e.mail+"&password="+e.password)}},{key:"checkField",value:function(e){return s.a.get(this.baseUrl+"?type=checkField&key="+e.type+"&value="+e.value)}},{key:"getProfile",value:function(e){return s.a.get(this.baseUrl+"?type=profile&id="+e)}},{key:"getNewFollows",value:function(e){return s.a.get(this.baseUrl+"?type=getNewFollow&name="+e.name+"&mail="+e.mail)}},{key:"getPosts",value:function(e){return s.a.get(this.baseUrl+"?type=getPosts&id="+e)}},{key:"changeFollow",value:function(e,t,a){return s.a.post(this.baseUrl,u.a.stringify({type:"changeFollow",authId:e,id:t,follow:a}))}},{key:"setPost",value:function(e,t){return s.a.post(this.baseUrl,u.a.stringify({type:"setPost",id:e,text:t}))}},{key:"updatePost",value:function(e,t){return s.a.post(this.baseUrl,u.a.stringify({type:"updatePost",text:e,postId:t}))}},{key:"deletePost",value:function(e){return s.a.post(this.baseUrl,u.a.stringify({type:"deletePost",postId:e}))}},{key:"updateLikesVal",value:function(e){return s.a.post(this.baseUrl,u.a.stringify({type:e.type,action:e.action.toLowerCase(),id:e.id,likes:e.likes,dislikes:e.dislikes,users:e.users,authId:e.authId}))}}]),e}());t.a=l},191:function(e,t,a){},25:function(e,t,a){e.exports={Avatar:"Avatar_Avatar__3FeYG",Avatar_img:"Avatar_Avatar_img__Sci1P",Avatar_User:"Avatar_Avatar_User__1hk5s",Avatar_User_Option:"Avatar_Avatar_User_Option__SmstV"}},32:function(e,t,a){e.exports={FormControl:"FormsControls_FormControl__2rLXv",FormControl_Field:"FormsControls_FormControl_Field__lQI5s",error_Field:"FormsControls_error_Field__1N7ZA",FormControl_Span:"FormsControls_FormControl_Span__1ILLY"}},33:function(e,t,a){e.exports={header:"Header_header__33Bvl",header_titleImg:"Header_header_titleImg__3NoWY",Error:"Header_Error__22wem",LoginForm:"Header_LoginForm__3dRpX",userInfo:"Header_userInfo__14rg1",CommonError:"Header_CommonError__1BgGS"}},335:function(e,t,a){"use strict";a.r(t);a(186),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n,r=a(0),o=a.n(r),s=a(69),i=a.n(s),u=(a(191),a(17)),l=(a(105),a(33)),c=a.n(l),d=a(148),m=function(e){if(!e)return"Please, fill in"},f=function(e){return function(t){if(t.length>e)return"Max length of this field - "+e}},p=function(e){if(!e.match(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i))return"Your mail is not valid!"},h=function(e){if(e.replace(/\s/,"")!=e)return"this field is must dont have a space!"},E=a(100),g=a(32),v=a.n(g),_=a(147),b=function(e){var t=e.input,a=e.meta,n=Object(E.a)(e,["input","meta"]);return o.a.createElement("div",{className:v.a.FormControl},o.a.createElement("div",{className:v.a.FormControl_Field},o.a.createElement("textarea",Object.assign({},t,n,{className:a.touched&&a.error?v.a.error_Field:null}))),o.a.createElement("div",{className:v.a.FormControl_Span},o.a.createElement("span",null,a.touched&&a.error?a.error:null)))},P=function(e){var t=e.input,a=e.meta,n=Object(E.a)(e,["input","meta"]);return o.a.createElement("div",{className:v.a.FormControl},o.a.createElement("div",{className:v.a.FormControl_Field},o.a.createElement("input",Object.assign({},t,n,{className:a.touched&&a.error?v.a.error_Field:null}))),a.touched&&a.error&&o.a.createElement("div",{className:v.a.FormControl_Span},o.a.createElement("span",null,a.touched?a.error:null)))},k=function(e,t,a,n){var r="LoginForm_"+e,s=e.toLowerCase();return o.a.createElement("div",{className:v.a[r]},o.a.createElement("label",{htmlFor:s},e,": "),o.a.createElement(_.a,{name:s,component:t,type:a,placeholder:"Enter your "+s,validate:n}))},O=f(10),y=f(20),I=Object(d.a)({form:"login"})(function(e){return o.a.createElement("form",{onSubmit:e.handleSubmit,className:c.a.LoginForm},k("Name",P,"text",[m,h,O]),k("Mail",P,"text",[m,h,p]),k("Password",P,"password",[m,h,y]),e.error&&o.a.createElement("div",{className:c.a.CommonError},e.error),o.a.createElement("div",{className:c.a.LoginForm_Button},o.a.createElement("button",null,"Enter")))}),w=function(e){return o.a.createElement(I,{onSubmit:e.formCheck})},L=function(e){return o.a.createElement("div",null,o.a.createElement("div",{className:c.a.header},o.a.createElement("img",{className:c.a.header_titleImg,src:"http://localhost:3000/files/header.jpg"})),o.a.createElement("div",{className:c.a.Auth},e.getAuthElements(e,c.a)))},j=a(19),N=a(6),S=a.n(N),A=a(11),T=a(3),F=a(44),U=a(10),x={id:null,name:null,isAuth:!1,follows:null,errors:{name:null,mail:null,password:null}},C=function(e){for(var t in e)document.cookie=t+"="+e[t]+";"},D=function(){return function(e){if(V(["id"])){var t=V(["id","name","follows"]);return e(Object(U.c)(t)),!0}return!1}},V=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=0;a<e.length;a++){var n=("; "+document.cookie).split("; "+e[a]+"=");if(2!=n.length)return!1;t[e[a]]=n.pop().split(";").shift()}return t},H=function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var a=e[t],n=a.indexOf("="),r=n>-1?a.substr(0,n):a;document.cookie=r+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}},B=Object(u.b)(function(e){return{id:e.auth.id,name:e.auth.name,mail:e.auth.mail,isAuth:e.auth.isAuth}},function(e){return{isCookie:function(){e(D())},getAuthElements:function(e,t){return e.isAuth?o.a.createElement("div",{className:t.userInfo},o.a.createElement("span",{className:t.UserName},e.name," | "),o.a.createElement("button",{className:t.Logout,onClick:e.logout},"Exit")):o.a.createElement(w,{formCheck:e.formCheck})},formCheck:function(t){e(function(e){return function(){var t=Object(A.a)(S.a.mark(function t(a){var n,r;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new j.a).auth(e);case 2:"ok"==(n=t.sent).data.status?(a(Object(U.d)(e,n)),C({name:e.name,id:n.data.id,follows:n.data.follows})):"error"==n.data.status&&(r={},n.data.messages.name&&(r.name="Such user does not exist"),(n.data.messages.mail||n.data.messages.password)&&(r._error="Mail or Password is wrong"),a(Object(F.a)("login",r)));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},logout:function(){e(function(e){e(Object(U.b)()),H()})}}})(function(e){return o.a.createElement(L,{checkField:e.checkField,logout:e.logout,getAuthElements:e.getAuthElements,formCheck:e.formCheck,isAuth:e.isAuth,name:e.name})}),R=a(14),M=a.n(R),W=a(22),z=function(){return o.a.createElement("div",{className:M.a.menu},o.a.createElement("div",{className:M.a.menu_item},o.a.createElement(W.b,{to:"/profile",activeClassName:M.a.active},"Profile")),o.a.createElement("div",{className:M.a.menu_item},o.a.createElement(W.b,{to:"/dialogs",activeClassName:M.a.active},"Messages")),o.a.createElement("div",{className:M.a.menu_item},o.a.createElement(W.b,{to:"/users",activeClassName:M.a.active},"Users")),o.a.createElement("div",{className:M.a.menu_item},o.a.createElement(W.b,{to:"/news",activeClassName:M.a.active},"News")),o.a.createElement("div",{className:M.a.menu_item},o.a.createElement(W.b,{to:"/music",activeClassName:M.a.active},"Music")),o.a.createElement("div",{className:M.a.menu_item},o.a.createElement(W.b,{to:"/settings",activeClassName:M.a.active},"Settings")))},G=a(38),X=a.n(G),q=function(){return o.a.createElement("div",{className:X.a.feedback},o.a.createElement("div",{className:X.a.feedback_item},o.a.createElement("img",{className:X.a.feedback_img,src:"http://localhost:3000/files/Phone.png",alt:"Phone"})),o.a.createElement("div",{className:X.a.feedback_item},o.a.createElement("img",{className:X.a.feedback_img,src:"http://localhost:3000/files/YouTube.png",alt:"YouTube"})),o.a.createElement("div",{className:X.a.feedback_item},o.a.createElement("img",{className:X.a.feedback_img,src:"http://localhost:3000/files/Instagram.png",alt:"Instagram"})))},K=a(156),Y=a.n(K),Z=function(){return o.a.createElement("div",{className:Y.a.Footer},"Footer")},J=a(28),$=function(e){return function(t){return o.a.createElement(r.Suspense,{fallback:o.a.createElement("div",null,"...Loading")},o.a.createElement(e,t))}},Q=a(157),ee=a.n(Q),te=a(25),ae=a.n(te),ne=function(e){return o.a.createElement("div",{className:ae.a.Avatar},o.a.createElement("div",{className:ae.a.Avatar_img},o.a.createElement("img",{src:"http://localhost:3000/files/"+e.img})),o.a.createElement("div",{className:ae.a.Avatar_User},o.a.createElement("div",{className:"".concat(ae.a.Avatar_User_Option," ").concat(ae.a.Name)},"Name:"),o.a.createElement("div",null,e.name),o.a.createElement("hr",null),o.a.createElement("div",{className:"".concat(ae.a.Avatar_User_Option," ").concat(ae.a.Surname)},"SurName:"),o.a.createElement("div",null,e.surname),o.a.createElement("hr",null),o.a.createElement("div",{className:"".concat(ae.a.Avatar_User_Option," ").concat(ae.a.Age)},"Age:"),o.a.createElement("div",null,e.age),o.a.createElement("hr",null),o.a.createElement("div",{className:"".concat(ae.a.Avatar_User_Option," ").concat(ae.a.Location)},"Location:"),o.a.createElement("div",null,e.city+" / "+e.country),o.a.createElement("hr",null)))},re=a(57),oe=a.n(re),se=a(94),ie=a(41),ue=a.n(ie),le=a(42),ce=a.n(le),de=function(e){var t=e.postId,a=e.users,n=e.authId,r=e.updateLikesVal,s=e.likes,i=e.dislikes,u={id:t,likes:s,dislikes:i,users:Object(T.a)({},a),authId:n},l={like:a.like==n?"DELETE":"ADD",dislike:a.dislike==n?"DELETE":"ADD"},c="ADD"==l.like?ce.a.default_Button:ce.a.active_Button,d="ADD"==l.dislike?ce.a.default_Button:ce.a.active_Button;return o.a.createElement("div",{className:ce.a.Like},o.a.createElement("button",{onClick:function(){r(Object(T.a)({},u,{type:"LIKE",action:l.like}))},class:c},"Like"),o.a.createElement("button",{onClick:function(){r(Object(T.a)({},u,{type:"DISLIKE",action:l.dislike}))},class:d},"DisLike"),o.a.createElement("span",{clssName:ce.a.Like_Assess}," "+(s+-1*i)))},me=function(e){return o.a.createElement("div",{className:ue.a.Post},o.a.createElement("div",{className:ue.a.Post_Img},o.a.createElement("img",{src:"http://localhost:3000/files/"+e.img})),o.a.createElement("div",{className:ue.a.Post_Body},o.a.createElement("div",{className:ue.a.Post_User},e.user),!e.editMode&&o.a.createElement("div",{className:ue.a.Post_Text,onClick:function(){e.activeEditMode()}},e.LocalPostText),e.editMode&&o.a.createElement("input",{autoFocus:!0,ref:e.newLocalPostText,onChange:function(){e.updateLocalPostText()},onBlur:function(){e.deactiveEditMode()},value:e.LocalPostText}),o.a.createElement(de,{likes:e.likes,dislikes:e.dislikes,users:e.users,authId:e.authId,updateLikesVal:e.updateLikesVal,postId:e.postId})),e.profileId==e.authId&&o.a.createElement("div",{className:ue.a.deleteButton,onClick:function(){e.deletePost(e.postId)}},o.a.createElement("img",{src:"http://localhost:3000/files/deleteButton.png"})))},fe=function(e){var t=Object(r.useState)(!1),a=Object(se.a)(t,2),n=a[0],s=a[1],i=Object(r.useState)(e.text),u=Object(se.a)(i,2),l=u[0],c=u[1];Object(r.useEffect)(function(){c(e.text)},[e.text]);var d=o.a.createRef();return o.a.createElement(me,{img:e.img,user:e.user,editMode:n,activeEditMode:function(){if(e.authId!=e.profileId)return!1;s(!0)},newLocalPostText:d,updateLocalPostText:function(){c(d.current.value)},deactiveEditMode:function(){l!=e.text&&e.updatePost(l,e.postId),s(!1)},LocalPostText:l,likes:e.likes,dislikes:e.dislikes,deletePost:e.deletePost,postId:e.postId,updateLikesVal:e.updateLikesVal,users:e.users,authId:e.authId,profileId:e.profileId})},pe=function(e){if(!e)return"Please, fill in"},he=(n=100,function(e){if(e.length>n)return"Max length of this field - "+n}),Ee=function(e){return function(t){if(t.length<e)return"Min length of this field - "+e}}(5),ge=Object(d.a)({form:"post"})(function(e){return o.a.createElement("form",{onSubmit:e.handleSubmit,className:oe.a.Posts_Form},o.a.createElement(_.a,{name:"post",component:b,type:"text",placeholder:"Enter your new post...",rows:"5",cols:"50",validate:[pe,he,Ee]}),o.a.createElement("button",null,"Send"))}),ve=function(e){return o.a.createElement(ge,{onSubmit:e.addPost})},_e=o.a.memo(function(e){if(e.isPostHave)var t=e.posts.map(function(t){return o.a.createElement(fe,{updateLikesVal:e.updateLikesVal,deletePost:e.deletePost,authId:e.authId,profileId:e.profileId,postId:t.postId,users:t.users,updatePost:e.updatePost,img:e.img,text:t.text,user:e.name,likes:t.likes,dislikes:t.dislikes})});var a=e.profileId==e.authId?o.a.createElement(ve,{addPost:e.addPost}):null;return o.a.createElement("div",{className:oe.a.Posts},a,t||null)},function(e,t){return t==e}),be=a(158),Pe=a.n(be),ke=function(e){return o.a.createElement("div",{className:Pe.a.Profile},o.a.createElement(ne,{name:e.name,surname:e.surname,age:e.age,city:e.city,country:e.country,img:e.img}),o.a.createElement(_e,{updateLikesVal:e.updateLikesVal,deletePost:e.deletePost,authId:e.authId,profileId:e.profileId,updatePost:e.updatePost,name:e.name,isPostHave:e.isPostHave,img:e.img,posts:e.posts,addPost:function(t){!function(t){var a=Object(T.a)({},t,{id:e.authId});e.addPost(a)}(t)}}))},Oe=a(31),ye=a(45),Ie=a(46),we=a(26),Le=a.n(we),je=a(51),Ne=a.n(je),Se=(a(334),function(){function e(){Object(ye.a)(this,e),this.baseUrl="http://localhost:4000"}return Object(Ie.a)(e,[{key:"reqUsers",value:function(e,t){return Le.a.get(this.baseUrl+"?type=users&currentPage="+e+"&pageSize="+t)}},{key:"auth",value:function(e){return Le.a.get(this.baseUrl+"?type=auth&name="+e.name+"&mail="+e.mail+"&password="+e.password)}},{key:"checkField",value:function(e){return Le.a.get(this.baseUrl+"?type=checkField&key="+e.type+"&value="+e.value)}},{key:"getProfile",value:function(e){return Le.a.get(this.baseUrl+"?type=profile&id="+e)}},{key:"getNewFollows",value:function(e){return Le.a.get(this.baseUrl+"?type=getNewFollow&name="+e.name+"&mail="+e.mail)}},{key:"getPosts",value:function(e){return Le.a.get(this.baseUrl+"?type=getPosts&id="+e)}},{key:"changeFollow",value:function(e,t,a){return Le.a.post(this.baseUrl,Ne.a.stringify({type:"changeFollow",authId:e,id:t,follow:a}))}},{key:"setPost",value:function(e,t){return Le.a.post(this.baseUrl,Ne.a.stringify({type:"setPost",id:e,text:t}))}},{key:"updatePost",value:function(e,t){return Le.a.post(this.baseUrl,Ne.a.stringify({type:"updatePost",text:e,postId:t}))}},{key:"deletePost",value:function(e){return Le.a.post(this.baseUrl,Ne.a.stringify({type:"deletePost",postId:e}))}},{key:"updateLikesVal",value:function(e){return Le.a.post(this.baseUrl,Ne.a.stringify({type:e.type,action:e.action.toLowerCase(),id:e.id,likes:e.likes,dislikes:e.dislikes,users:e.users,authId:e.authId}))}}]),e}()),Ae=function(e){return{type:"SET-PROFILE-POSTS",data:e}},Te=function(e,t){return{type:"UPDATE-POST-LIKE-VAL",data:t,id:e.id}},Fe=function(e,t){return{type:"ADD-POST",data:{text:e.post,likes:0,dislikes:0,users:{like:[],dislike:[]},postId:t.data.postId}}},Ue=function(e){return null==e?null:((e=e.split(";")).splice(-1,1),0==e.length?null:e)},xe=a(145),Ce=a(9),De=a(92),Ve=Object(Ce.d)(Object(u.b)(function(e){return{profilePage:e.profilePage,authId:e.auth.id}},function(e){return{addPost:function(t){e(function(e){return function(){var t=Object(A.a)(S.a.mark(function t(a){var n;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new Se).setPost(e.id,e.post);case 2:"ok"==(n=t.sent).data.status&&a(Fe(e,n));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},getProfile:function(t,a){e(function(e,t){return function(){var a=Object(A.a)(S.a.mark(function a(n){var r,o;return S.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(r=e.split("/")[2])||(r=t),a.next=4,(new Se).getProfile(r);case 4:o=a.sent,n({type:"SET-PROFILE-PAGE",data:o.data});case 6:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}(t,a))},getPosts:function(t){e(function(e){return function(){var t=Object(A.a)(S.a.mark(function t(a){var n,r;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new Se).getPosts(e);case 2:n=t.sent,0!=(r=n.data).length&&(r.posts=r.posts.map(function(e){return Object(T.a)({},e,{users:{like:Ue(e.users.like),dislike:Ue(e.users.dislike)}})}),a(Ae(r)));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))},updatePost:function(t,a){e(function(e,t){return function(){var a=Object(A.a)(S.a.mark(function a(n){var r;return S.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(new Se).updatePost(e,t);case 2:r=a.sent,n({type:"SET-NEW-POST-VALUE",data:r.data});case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}(t,a))},deletePost:function(t){e(function(e){return function(t){t(function(e){return{type:"DELETE-POST",data:e}}(e)),(new Se).deletePost(e)}}(t))},updateLikesVal:function(t){e(function(e){return function(){var t=Object(A.a)(S.a.mark(function t(a){var n,r;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(new Se).updateLikesVal(e);case 2:n=t.sent,r=Object(T.a)({},n.data,{users:{like:Ue(n.data.users.like),dislike:Ue(n.data.users.dislike)}}),a(Te(e,r));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))}}}),J.f,Object(u.b)(function(e){return{isAuth:e.auth.isAuth}}),xe.a)(function(e){return Object(r.useEffect)(function(){e.getProfile(e.location.pathname,e.authId)},[e.location.pathname]),!e.profilePage.isPostHave&&e.profilePage.user.id&&e.getPosts(e.profilePage.user.id),o.a.createElement(ke,{updateLikesVal:e.updateLikesVal,profileId:e.profilePage.user.id,deletePost:e.deletePost,authId:e.authId,updatePost:e.updatePost,isPostHave:e.profilePage.isPostHave,posts:e.profilePage.posts,name:e.profilePage.user.name,surname:e.profilePage.user.surname,age:e.profilePage.user.age,city:e.profilePage.user.location.city,country:e.profilePage.user.location.country,img:e.profilePage.user.img,addPost:e.addPost})}),He=o.a.lazy(function(){return a.e(3).then(a.bind(null,351))}),Be=o.a.lazy(function(){return a.e(6).then(a.bind(null,346))}),Re=o.a.lazy(function(){return a.e(5).then(a.bind(null,347))}),Me=o.a.lazy(function(){return a.e(4).then(a.bind(null,350))}),We=o.a.lazy(function(){return a.e(7).then(a.bind(null,348))}),ze=o.a.lazy(function(){return a.e(8).then(a.bind(null,349))}),Ge=function(e){return o.a.createElement("div",{className:ee.a.Articles},o.a.createElement(J.b,{path:"/profile",render:function(){return o.a.createElement(Ve,null)}}),o.a.createElement(J.b,{path:"/dialogs",render:$(He)}),o.a.createElement(J.b,{path:"/users",render:$(Me)}),o.a.createElement(J.b,{path:"/news",render:$(Be)}),o.a.createElement(J.b,{path:"/music",render:$(Re)}),o.a.createElement(J.b,{path:"/settings",render:$(We)}),o.a.createElement(J.b,{path:"/loginError",render:$(ze)}))},Xe={initial:!1},qe={users:[{id:1,name:"Anna"},{id:2,name:"Vlad"},{id:3,name:"Masha"}],messages:[{id:1,text:"Hello",user:"Anna"},{id:2,text:"My name is Anna",user:"Anna"},{id:3,text:"I am from Russia",user:"Anna"},{id:4,text:"Lorem ipsum dolor sit amet.",user:"me"}]},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE":return Object(T.a)({},e,{messages:[].concat(Object(Oe.a)(e.messages),[{id:5,text:t.data.text,user:t.data.user}])})}return e},Ye={user:{id:null,name:null,surname:null,age:null,location:{city:null,country:null},img:null},posts:[],isPostHave:!1},Ze=a(102),Je=a(159),$e=a(149),Qe=Object(Ce.c)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":return Object(T.a)({},e,{posts:[].concat(Object(Oe.a)(e.posts),[t.data]),isPostHave:!0});case"SET-PROFILE-ID":return Object(T.a)({},e,{user:Object(T.a)({},e.user,{id:t.data})});case"SET-PROFILE-PAGE":return Object(T.a)({},e,{user:{id:t.data.id,name:t.data.fullname.name,surname:t.data.fullname.lastname,age:t.data.age,location:{city:t.data.location.city,country:t.data.location.country},img:t.data.img},isPostHave:!1,posts:[]});case"SET-PROFILE-POSTS":return Object(T.a)({},e,{posts:t.data.posts,isPostHave:!0});case"SET-NEW-POST-VALUE":for(var a=[],n=0;n<e.posts.length;n++)e.posts[n]&&e.posts[n].postId==t.data.postId?(a[n]=e.posts[n],a[n].text=t.data.text,a[n].postId=t.data.postId):a[n]=e.posts[n];return Object(T.a)({},e,{posts:a});case"DELETE-POST":var r=[];for(n=0;n<e.posts.length;n++)e.posts[n]&&e.posts[n].postId!=t.data&&(r[n]=e.posts[n]);return Object(T.a)({},e,{posts:r});case"UPDATE-POST-LIKE-VAL":return Object(T.a)({},e,{posts:Object(Oe.a)(e.posts).map(function(e){return t.id==e.postId?Object(T.a)({},e,t.data):e})})}return e},dialogsPage:Ke,usersPage:Ze.a,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-AUTH-USER":return Object(T.a)({},e,{name:t.data.name,id:t.data.id,follows:t.data.follows,isAuth:!0});case"SET-FOLLOWS":return Object(T.a)({},e,{follows:t.data});case"SET-AUTH-ERRORS":return Object(T.a)({},e,{errors:t.data});case"DELETE-AUTH-INFO":return{id:null,name:null,isAuth:!1,follows:null,errors:{name:null,mail:null,password:null}}}return e},form:$e.a,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe;switch((arguments.length>1?arguments[1]:void 0).type){case"INITIALIZATION-SUCCESS":return Object(T.a)({},e,{initial:!0})}return e}}),et=Object(Ce.a)(Je.a)(Ce.e)(Qe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());window.store=et,console.log(et);var tt=et,at=Object(Ce.d)(J.f,Object(u.b)(function(e){return{initial:e.app.initial}},function(e){return{initializeApp:function(t){e(function(e){return function(t){var a=e();!a&&a||t(Object(U.a)())}}(t))},isCookie:function(){return e(D())}}}))(function(e){var t=e.initializeApp,a=e.initial,n=e.isCookie;return Object(r.useEffect)(function(){t(n)},[]),a?o.a.createElement("div",{className:"App"},o.a.createElement(B,null),o.a.createElement(z,null),o.a.createElement(Ge,null),o.a.createElement(q,null),o.a.createElement(Z,null)):o.a.createElement(De.a,null)}),nt=function(){return o.a.createElement(W.a,{basename:"/my-app"},o.a.createElement(u.a,{store:tt},o.a.createElement(at,{store:tt})))};i.a.render(o.a.createElement(nt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},38:function(e,t,a){e.exports={feedback:"FeedBack_feedback__2m8_f",feedback_item:"FeedBack_feedback_item__BkjYZ",feedback_img:"FeedBack_feedback_img__35ET6"}},41:function(e,t,a){e.exports={Post:"Post_Post__8_Ov_",Post_Img:"Post_Post_Img__36p0z",Post_Body:"Post_Post_Body__1DVCi",Post_Text:"Post_Post_Text__3oxSv",Post_User:"Post_Post_User__3FfXx",deleteButton:"Post_deleteButton__25fxD"}},42:function(e,t,a){e.exports={Like:"Like_Like__2qct6",active_Button:"Like_active_Button__3xpqk",default_Button:"Like_default_Button__36vXg"}},57:function(e,t,a){e.exports={Posts:"Posts_Posts__2hS00",Posts_Form:"Posts_Posts_Form__gI5De"}},92:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(101),s=a.n(o);t.a=function(e){return r.a.createElement("img",{src:"./files/loading.svg",className:s.a.Loading})}}},[[185,1,2]]]);
//# sourceMappingURL=main.b7c70873.chunk.js.map